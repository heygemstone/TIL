<h2>데이터베이스 기초 2강 장석주 교수님 <h2>

SELECT * FROM TAP; : 테이블 내용을 모두 검색
SELECT * FROM CUSTOMER WHERE NAME = ‘전지현’;

표를 설치하고 SQL을 써서 실습해 볼 것이다. 실습환경부터 구성해보자. 
IDE(통합개발환경):EX.이클립스 

SQL DEVELOPER 자바로 만들어짐 장점은?
설치안하고 바로 실행하면 된다.

*접속 연결자 Connect String=Host String생성 
접속이름: 마음대로 줘도 된다 kopo03으로 주기 
사용자이름: 스물두개의 계정을 만들어 놓았다.
호스트이름: 192.168.26.72/73
포트는 기계적으로 정해짐
서비스이름 DCSWCDB
계정에다가 실습용 테이블들을 만들어 놓았다. 

1)TABLE: 관계형 데이터베이스에서 데이터를 저장하는 기본적인 구조. 
          즉 데이터를 저장하는 그릇 역할을 한다.
          테이블은 열(COLUMN)과 행(ROW)로 구성된 2차원 구조이다.

서버하나에 수천개의 클라이언트가 붙어있다. 폴리텍 대학의 경우에도 그렇다.
오라클 마이크로소프트 IBM 합친게 거의 80% RDBMS 시장을 차지하고 있다.
국내 시장은 오라클만 60%를 차지하고 있다. 시장점유율 높은 제품은 사용하는 게 좋다.
NOSQL(빅데이터에 사용)과 클라우드 때문에 시장점유율이 줄고 있다. 
 
오라클 하나만 배워도 오라클 환경에서만 일할 수 있는게 아니라 DBMS란 데이터베이스를 배우는 것. 그래서 매뉴얼 한권만 있으면 다른 SQL서버나 DB툴을 쓸 수 있다.
예전에 JAVA랭귀지도 엄청 종류가 많았다. 지금은 하나.

래리앨리슨 오라클 회장 오라클 DBMS 팔아서 돈벌었음 이사람이 오라클 창업자임 제품 유지보수율로 제품가격의 20프로를 달라고 한다. 그러니 악덕 사업자.

E.F.CODE박사 RDB의 개념을 처음으로 내놓은 사람이다.
1977년 RDB관련 논문을 만들고 발표함. 수학자 출신임. 관계대수, 관계집합을 기반으로해서 만들었다. 그러나 맨첨엔 굉장히 많은 비판을 받았음. 개념은 좋은데 성공가능성이 희박하다고. 그러나 세상은 RDB세상이 되었다. IBM연구원으로 일하며 논문을 썼음. 최초로 상용 RDBMS를 만든사람이 래리 앨리슨. 그것도 CIA에 돈을 받아서 만들었음. 당시에는 쥐꼬리만한 데이터만 처리가 가능했음. 

대만계 미국인??피터챈?　한자는 상용문자인데 ER모델이라는 DB설계모델을 고안해내었음 DB모델링할 때 더 자세히 알게 될 것이다. 관계형 모델을 만든사람이다. 
21PAGE 그림 보기.
그림은 무엇을 설명하고 있나? 각 데이터의 관계를 그림으로 설명해주고 있다.
employees박스: 사원들 정보를 저장한 데이터베이스 설계도 
모델링: 설계, 모델링을 하게되면 저런 그림을 그리게 될 것
네모 박스 하나하나가 테이블이 된다. 테이블은 데이터를 저장하는 그릇, 포맷을 의미함
department (부서정보) 부서정보와 사원정보가 관계를 맺고 있다.
데이터 끼리 선을 정해 관계를 맺어놓았다. 관계를 계속 보고 정하고, 그려볼 수 있어야 한다. 다 연결시켜본다. 그림을 그릴때는 설계단계에서는 개체라고 말한다 나중에 개체는 테이블이 된다. emlployees테이블 안에 데이터가 저장됨. 관계라는 건 테이블 껍데기(개체와 개체간) 간의 관계를 그린다. 그러나 나중에 실제 관계를 갖고 처리할 땐 테이블 내부의 데이터를 갖고 처리한다. (이번주 다음주) join이라는 걸 할 때 다시 질문
join 데이터의 수평적 결합. 
수직적 결합 집합연산 등


엑셀 SHEET 가 하나의 DB 테이블이다.
데이터 하나하나를 셀이라고 함. 
Record = Row 한줄, 한행 
Field = Attribute = Column 한열 (속성) 한줄한줄 개체를 가리키고 있음 
직장생활하며 보는 데이터는 거의 대부분 record/row 와 field로 이루어진 2차원형식의 표로 이루어져있고 바로 이걸 보게 될 것이다. 파일 입출력할 때도 데이터를 변수로 받아서 받아야 함. 사원 이름 사원 직무 근무부서번호 입사일 월급 등등 파일 입출력 처리할 때 우선 한줄 읽었어. 첫 번째변수 두 번째 변수에 저장 

자료구조: Record = row 
Field = attribute = column 같은 개념이다. 
자료구조 용어는 record, field
db에서는 row, column을 말함 

DB설계도 : 이름 정리 page21페이지 그림 ERD라고 한다. 9월 설계 프로젝트때 그릴 그림이 ERD이다. Entity(개체)  Relationship Diagram의 약자임. 선들이 관계를 표시해줌 개체는 네모박스를 의미함 entity. 개체 관계도를 ERD라고함. 나중에 약 2주간 설계를 해보는 경험을 할 것이다. 스스로 설계할 것임. 개체 관계 다이어그램 / 개체 분석설계도.  
클래스가 인스턴스화되면 object가 된다.

1.시험문제 SQL 명령어 카테고리를 쓰시오
SELECT
DML
DDL (설계자) 생성 CREATE DROP TRUNCATE
TCL
2번째 시험문제＊＊
SQL주요특징 4가지를 쓰고 설명하시오. 
1) 관계형DBMS (RDBMS)에 접근하는 유일한 언어이다. 모든 RDBMS는 SQL를 표준으로 채택해서 쓴다. DB관련 일을 하려면 반드시 SQL을 알아야한다. 개발자, 관리자, 설계자, 튜너 등 DBMS와 관련된 모든 직무는 SQL을 다룬다. SQL없으면 DBMS관련 일을 할 수 없다. ERD관련 가트너 검색해보기 IT 시장 컨설팅, 조사하는 가트너 그룹이 단순 리서치회사가 아니라 향후 10년을 끌고갈 기술 등 트렌드를 리딩하고 컨설팅하는 회사이다. IT관련 일을하고 나이가 들면 가트너 그룹에서 쓰는 전망들을 종종보게 될 것이다. 

가트너가 2006년 조사한 결과에 따르면 10개중 8개가 DB관련 프로젝트였다. 프로젝트를 하거나 일을 할 때 80%가 데이터베이스 관련 프로젝트였던 것이다. V3, 아래아한글 등 특수한 몇몇 솔루션을 빼고서는 거의 DB관련 일을 하게 될 것이다. DB가 IT의 심장이 되었다. IT시스템에 DB가 없을 수 없다. 그러므로 DB를 잘 챙겨가야 한다. DATA가 Information이 되고 knowledge가 된다. 기업들이 data를 축적하는 이유 정보를 갖기 위해 정보를 갖고 기업에서 의사 결졍을 하는 데 활용할 수 있다. data로는 알 수 없다. 정보를 갖고 판단해야 한다. 그래서 기업은 data를 저장하고 처리하는 데 막대한 돈을 쓴다. 

data가 점점 기업의 중심이 되고 있다. data를 기반으로 의사결정하고 경영하겠다. 예전엔 감이나 로비로 했다면......모든 기업은 software를 기반으로 돌아간다. 그런데 software의 중심은 database이다.
아침에 제일먼저하는 일이 db연결하는 일. 
2)두번째 특징 ANSI – SQL
American National Standards Institute.미국 산업 표준화 기구가 sql을 표준화시켰다. 너무 sql 문법이 난립하다보니 이렇게 표준을 정립한 것이다. ansi-c도 있다. dbms (mysql, db2, sqlserver, oracle...)가져다가 표준을 만들었다. 표준도 바뀐다. 새로운 기술과 요구사항이 등장하기 때문이다. ANSI –SQL 중요하다. 표준을 무시하고 만들 수 없다. 대부분의 회사들은 ANSI-SQL+@로 구성되고 있다. 차이는 크지 않다. 매뉴얼 보고 공부하면 된다. 그러므로 SQL에 많은 투자를 하면 좋다. SQL은 40년동안 죽지 않고 살아남았다. 많은 언어들이 사라지는 동안 SQL은 건재함. 빅데이터 처리에도 SQL이 쓰인다. 40%이상정도 SQL안쓰면 파이썬이나 자바로 코딩한다. 그러나 효율성이 떨어진다. 초기에는 파이썬이나 자바로 코딩함. 기업에서 데이터를 분석하던사람들이 빅데이터로넘어감 이사람들 요구는 내가 왜 코딩해야하지? 그래서 원래쓰던 언어인 SQL로 하고 있다. 그리고 이 비중은 더 커질 것이다. 빅데이터 안에서 SQL로 처리하는 것. SQL하나 잘 배워두면 RDBMS처리할 수 있다. 고스란히 빅데이터 분야에서도 쓸 수 있다. 한번배우면 10년 20년 쓸 수 있으니 배울 때 제대로 잘 배워두어야 한다. 

3)3번째 특징 English Like
*1-2년차 따라잡을 수 있다 왜냐면 SQL이 쉽기 때문이다. 비IT사람들도 다룰 수 있도록 만든게 SQL이기 때문이다. IBM의 기여, RDB, SQL. 문맥적으로 영어와 유사하다. 직관적이다. 
*대소문자를 구분하지 않는다. 에러를 일으키지 않는다. 

4)4번째 특징 비절차적 언어
**
절차적언어 ex)C언어: 처리순서와 방법을 명기한 언어이다.
비절차적언어 ex)SQL 절차가 없다.

C언어가 대표적인 절차적언어임. 전지현 찾으려면 코딩해야함. 일단 파일읽어서 고객파일 오픈하고 파일 read하고 String  발라내고, gets“전지현”면 화면에 출력하고 
while 문 돌리고 파일 close하고.. 데이터를 어떻게 찾아오는 순서를 명기함. 순서를 명기해야하는 언어가 절차적 언어이다. SQL은? 서울사는 전지현 찾아와 하고 요청 쿼리문을 날림. 절차적언어는 어떻게 해! 라는 HOW를 명기함.
비절차적언어 : 내가 필요한 건 무엇이야 WHAT을 명기함. 이것이 다르다.
절차적how // 비절차적what

Client(SQL-developement) ------Server(옆방의 서버)에게 
SQL을 던진다. 옆방의 서버에게. SQL: Request던진 것) Sql이 dbms서버를 처리하고 data를 reponse해준다. SQL dev한테 응답(데이터)를 준 것이다.
여기에선 Server가 how를 고민한다. 

시험문제 2개 정리
1)sql 명령어 카테고리 2) sql언어의 주요특징 4가지 
내일 과제 
1) sql주요특징 4가지 암기 및 구두설명
2) sql 명령어 분류표 암기 및 구두설명 
3) select 문법구조를 oracle 매뉴얼에서 검색 후 설명하기 
-하는 이유 모르는 일이 생겼을 때 1. 매뉴얼을 찾아본다.(매뉴얼보는 습관을 가져야한다.)
 2.아는 사람한테 물어본다. 
오라클 매뉴얼을 어떻게 찾는지 인터넷으로 시연해야함.
select systax diagram 찾아서 설명까지 해주기.
구글 네이버 보다 먼저 매뉴얼 읽는 습관부터 들이자. 아니면 남의 뒤만 쫓아가게 된다. 저런 걸 여러번 해야 홀로서기를 할 수 있다. 앞으로 교육기관에서 교육받을수 없을지도 모른다. 그러므로 습관이 중요하다. 내가 스스로 찾아내는 습관을 갖자.  

SELECT 실습
맨위에 있는 이름을 COLUMN HEADING이라고 부른다
엑셀 한 시트가 테이블이다.
SELECT SYNTAX DIAGRAM: 셀렉트 문법구조를 그림으로 그려놓은 것
이 그림을 보고 해석하길 원한다.
알아서 대표적인 것 쉬운 것 하나를 공부하라
문법은 매우 다양하다. 우리는 다 외울수 없다. 그러나 DIAGRAM을 읽을줄 알면 구조에 따라 다양한 SQL문이 나올수 있음을 알 수 있다. 지금부터 읽는 훈련을 해본다. 가장 간단한 거로 설명해보라. SELECT를 돌려보자. 
SELECT * FROM EMP; EMP로부터 모든 COLUMN을 셀렉트하라
SELECT LIST FROM(셀렉트와 FROM사이를 LIST라고 말함)
COLUMN과 COLUMN사이는 콤마로 구분한다.
2번이 좋은 방식이다. SQL코드가 명료하다. 코드의 명료성은 매우 중요하다.
SDLC SOFTWARE DEVELOPMENT LIFE CYCLE
1.분석
2.설계
3.개발
4.테스트
5.이행
-----------이 위로는 모두 개발
6.운영

코드를 명료하게 짜야하는 이유
개발은 짧고 운영은 길다. 통계를 내보면 개발과 운영은 1:4라는 이야기를 한다. 개발 1년동안 하면 평균 4년 운영하더라. 혹은 2:8 SW에서 프로젝트는 1:4더라 기업입장에선 서비스 운영이 더 중요하다. 길고긴 운영. 누군가는 개발된 시스템을 운영한다. 남이 개발한 소프트웨어를 누군가는 이해를 해야한다. 남이 만들어 놓은 걸 내가 봐야한다. 그래서 명료성이 굉장히 중요하다. 나만 알아보게 짜면 안된다. 

소스코드의 안전성
테이블의 구조가 변경될 수 있다. 사원의 자녀수를 추가한다던가. MYSQL 셀렉트 뒤에 변수명과 변수개수가 따라온다. 지금은 8개의 변수개수가 있다. COLUMN갯수를 의미.

컬럼의 헤딩과 정렬된 방향을 보고 숫자인지 문자인지 유추해본다. 숫자는 오른쪽정렬 문자는 왼쪽정렬 이것으로 숫자문자 유추가 가능하다. HIREDATE DATE 날짜는 정렬방향이 문자처럼 왼쪽 정렬이다. 

날짜는 표리부동이다. 내부저장되는 방식과 외부에 표현되는 방식이 다르다. 날짜는 눈에보일때는 문자처럼 보인다. DBMS내부에는 숫자로 저장되어있다. 
NULL은 눈에 보이지 않는다. 이건 사람들이 스트레스받으니 DBMS가 서비스해준거임. 이거 조심해야함 SQL디벨로퍼이니까 해주지 다른 툴에서는 NULL값을 안보여줄수도 있다. 

SAL 숫자데이터가 저장되어있음 데이터타입을 명기함. 변수이름 변수 자료형(LENGTH)이게 컬럼의 정의
컬럼 이름 / 데이터 타입 / 데이터 길이
SAL NUMBER(7,2) 소수점이하 2자리까지 전체 7자리중에 정수자리는 5자리까지 쓸수있다는 뜻임. 예외상황있을수있음 실수형타입이다
오라클 타입에서는 정수형 실수형은 따로 없는데 자릿수로 정수와 실수를 구분한다. 

DATE: 날짜 + 시간을 저장한다.
VAR/CHAR/2 가변길이 문자타입 버전2
CHAR: 고정길이 문자 데이터 타입

가장 많이 쓸 명령어 중 하나 DESC EMP;
DESCRIBE
SQL 꼼꼼히 외우고 치고 

여러개의 sql을 칠수 있다 위에있는 창, 패널에는 여러개의 sql문을 실행할 수 있다. sql문은 반드시 한줄로 끝날 필요없다
두줄로 끝나도 된다 보기좋게 끊어주기
세미콜론: sql명령어의 문장종결자 (단순하지만 꼭 기억) 세미콜론까지 하나의 sql문으로 인지한다. 10줄가까이되는 sql문을 작성하기도 한다. 하나가 아니라 여러줄로 예쁘게 만들기.

예약어:파란색으로 표시
sql developer가 dbms일까? 아니다

문자형데이터는 반드시 싱글쿼테이션으로 표현한다. 
문자데이터타입에 더블쿼테이션은 쓸수있나요? 

ORA-00904: "ORACLE": 부적합한 식별자
00904. 00000 -  "%s: invalid identifier"
*Cause:    
*Action:
19행, 23열에서 오류 발생

모든 오라클의 에러코드는 사전에 정의가 되어있고 고유 코드가 있다. 저 고유한 코드를 가지고 더 많은 매뉴얼을 뒤져볼 수 있다. 정밀한 건 고유코드로 찾아볼 수 있다. 

데이터를 천천히 관찰하는 것이 중요하다. SQL 주석처리할 수 있나? 가능하다.
(데이터의 정렬방향, 데이터의 타입을 관찰해보자)
//로 주석처리가 가능하다. 

다른 언어에서 썼던 연산자들 단순해보이지만 모두 쓸 수있다. 
14번 쿼리문
dbms안에 sal만 있음 sal*12 데이터 가공처리를 dbms에게 떠넘긴 것.
불러와서 곱하고 다른 클라이언트 랭귀지로 코딩을 해야하는데 dbms에 데이터 가공처리해서 나한테 최종결과만 넘겨! 라고 한 것과 같다. dbms데이터에 급여가저장되어있는데 해당 랭귀지 클라이언트에서 가공처리해야함.

sql명령어는 대소문자를 구분하지 않는다 그러나 data는 대소문자를 구분한다. 

sql튜닝까지 완벽히 하고 
1번방식 sql만으로 
2번 sql+java 에러가난다면 sql의 에러인지 sql+java의 접점인지
java에러인지 헷갈린다. 그러므로 1번이 좋은 방식일 수 있다. 그러므로 잘하는 사람은 sql튜닝까지 끝내놓고 java코딩을 함께한다. 
 
<h2>과제 하나 더<h2> 
number와 date 자료형에 사칙연산을 적용하는 sql문을 작성하라 
select list와 where절에 사칙 연산을 사용할 수 있는 sql예문을 작성하라.




